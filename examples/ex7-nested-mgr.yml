general:
  use_millisec: on

linear_system:
  dirname: data/poromech2k/np1/ls
  init_suffix: 0
  last_suffix: 24
  rhs_filename: IJ.out.b
  matrix_filename: IJ.out.A
  dofmap_filename: dofmap.out

solver:
  fgmres:
    max_iter: 100
    krylov_dim: 30
    print_level: 1
    relative_tol: 1.0e-6

preconditioner:
  mgr:
    max_iter: 1
    tolerance: 0.0
    print_level: 0
    coarse_th: 1e-20
    level:
      0:
        f_dofs: [0, 1, 2]       # Eliminate displacement DOFs
        f_relaxation: mgr
          mgr:
            # Nested MGR keeps the same DOF labels as the parent (no relabeling).
            max_iter: 1
            tolerance: 0.0
            print_level: 0
            level:
              0:
                f_dofs: [0]
                g_relaxation: none
                f_relaxation: amg
                  amg:
                    coarsening:
                      type: pmis
                      strong_th: 0.5
                      num_functions: 1
                restriction_type: injection
                prolongation_type: injection
                coarse_level_type: rap
              1:
                f_dofs: [1]
                g_relaxation: none
                f_relaxation: amg
                  amg:
                    coarsening:
                      type: pmis
                      strong_th: 0.5
                      num_functions: 1
                restriction_type: injection
                prolongation_type: injection
                coarse_level_type: rap
            coarsest_level:
              amg:
                coarsening:
                  type: pmis
                  strong_th: 0.5
                  num_functions: 1
      1:
        f_dofs: [5]             # Eliminate volume constraint DOFs
        f_relaxation: jacobi
        g_relaxation: none
        restriction_type: injection
        prolongation_type: jacobi
        coarse_level_type: rap

      2:
        f_dofs: [4]             # Eliminate component density DOFs
        f_relaxation: single
        g_relaxation: ilu
        restriction_type: columped
        prolongation_type: injection
        coarse_level_type: rap

    coarsest_level:             # Pressure DOFs
      amg:
        max_iter: 1
        tolerance: 0.0
        relaxation:
          down_type: l1-jacobi
          up_type: l1-jacobi
